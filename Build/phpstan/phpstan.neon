includes:
  - phpstan-baseline.neon
  - ../../.Build/vendor/phpstan/phpstan-phpunit/extension.neon

parameters:
  level: 5

  # Use local cache dir instead of /tmp
  tmpDir: ../../.Build/.cache/phpstan

  bootstrapFiles:
    - phpstan-constants.php

  paths:
    - ../../Classes
    - ../../Tests

  excludePaths:
    # Checking acceptance support files is cumbersome due to codeception dynamic mixin generation
    - ../../Classes/Core/Acceptance/*
    # phpstan does not work well with multi core testing and existing/non existing classes and traits, exclude it
    - ../../Classes/Core/Jwt/SessionHelperTwelve.php
    # Text fixtures extensions uses $_EXTKEY phpstan would be report as "might not defined"
    - ../../Tests/Unit/*/Fixtures/Extensions/*/ext_emconf.php
